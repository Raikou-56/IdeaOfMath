@{
    ViewData["Title"] = "Teacher Page";
}

@section Scripts {
    <script src="~/js/teacher.js"></script>
    <script src="~/js/editer.js"></script>
}

@model Problem

<div class="que" style="padding:30px;">
    <form asp-controller="Problem" asp-action="Edit" method="post">
        <input type="hidden" name="SerialNumber" value="@Model.SerialNumber" />
        <label>問題ID:</label>
        <input asp-for="IdNumber" />
        <span asp-validation-for="IdNumber"></span><br>

        <label>難易度:</label>
        <input asp-for="difficulty" /><br>

        <label>カテゴリ:</label>
        <input asp-for="category" /><br>

        <label>問題（LaTeX）:</label>
        <textarea asp-for="ProblemLatex" id="latexInput1" rows="6" style="width:100%; font-size:1.2em;"></textarea><br>

        <div style="margin-top:20px;">
            <h4>問題文プレビュー:</h4>
            <button class="send" type="button" id="previewBtn1">プレビューする</button>
            <div id="mathPreview1" class="latex">ここに数式が表示されます</div>
        </div>

        <label>答え（LaTeX）:</label>
        <textarea asp-for="AnswerLatex" id="latexInput2" rows="6" style="width:100%; font-size:1.2em;"></textarea><br>

        <div style="margin-top:20px;">
            <h4>解答プレビュー:</h4>
            <button class="send" type="button" id="previewBtn2">プレビューする</button>
            <div id="mathPreview2" class="latex">ここに数式が表示されます</div>
        </div>

        <label>画像アップロード:</label>
        <button type="button" id="uploadImageBtn">画像を挿入する</button><br>

        <label>先生:</label>
        <input asp-for="Teacher" /><br>

        <label>公開状態:</label>
        <input type="checkbox" asp-for="IsPublic" id="isPublicToggle" />
        <span id="publicStatusLabel" style="margin-left: 10px;">
            @(Model.IsPublic ? "公開中" : "非公開")
        </span><br>

        <div style="text-align: right;">
            <span id="autosaveStatus" style="margin-left: 10px; color: gray; font-size: 0.9em;"></span>
            <button class="send" type="submit">この内容に編集する</button>
        </div>
    </form>
</div>